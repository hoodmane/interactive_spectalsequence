\documentclass{article}

\parskip10pt
\parindent0pt
%\usepackage{bera}% optional: just to have a nice mono-spaced font
\usepackage{listings}
\usepackage{xcolor}

\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
   % numbers=left,
   % numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    backgroundcolor=\color{background},
    literate=
%     *{0}{{{\color{numb}0}}}{1}
%      {1}{{{\color{numb}1}}}{1}
%      {2}{{{\color{numb}2}}}{1}
%      {3}{{{\color{numb}3}}}{1}
%      {4}{{{\color{numb}4}}}{1}
%      {5}{{{\color{numb}5}}}{1}
%      {6}{{{\color{numb}6}}}{1}
%      {7}{{{\color{numb}7}}}{1}
%      {8}{{{\color{numb}8}}}{1}
%      {9}{{{\color{numb}9}}}{1}
      {:}{{{\color{punct}{:}}}}{1}
      {,}{{{\color{punct}{,}}}}{1}
      {\{}{{{\color{delim}{\{}}}}{1}
      {\}}{{{\color{delim}{\}}}}}{1}
      {[}{{{\color{delim}{[}}}}{1}
      {]}{{{\color{delim}{]}}}}{1},
}


\begin{document}
Viewer dependencies:
\begin{enumerate}
\item A json parser
\item A svg/xml parser
\item must implement nodes?
\end{enumerate}


\section{Top level fields}
\begin{enumerate}
\item classes
\item differentials
\item structure lines
\item general vector graphics (svg??)
\item draw order
\item Differential bidegree
\item Projection -- ["t - s", "s"]
\item Node types (how do we deal with anchors etc?) -- SVG has no notion of a node, so we have to define this ourselves copying tikz. We need some standard dimensions, both scalar and dimensional arithmetic.
\item style list
\item list of filter-style pairs
\end{enumerate}




Plot primitives
\begin{enumerate}
\item title
\item axes style
\item grid style
\item scaling?
\end{enumerate}

Styles -- what are the precedence rules?

Probably all styles come in a list and specify in decreasing order of precedence? So it's the job of the editor to decide what the desired precedence is.
The editor can also allow complicated styling filters -- it needs to add a tag to every object that matches the filter.
So each style is a list of filters and a list of drawing options. What is a filter? Do we need to allow "or" of filter conditions or just "and"? "or" is implemented as a list of different styles.

use a mixture of svg and json?



\begin{lstlisting}[language=json]
{
    "classes" : [class1,...,classn],
    "differentials" : [differential1,..., differentialn],
    "structurelines" : [structline1,...,structlinen],
    many more optional fields (a projection, the grading of differentials, axes labels, grid, arbitrary annotations etc etc etc)
}
\end{lstlisting}


\end{document} 